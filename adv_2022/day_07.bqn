Sp←(⊢-˜¬×·+`»⊸<)∘∊˜⊔⊢
ToInt←10⊸×⊸+˜´∘⌽-⟜'0'
s←•Flines"input_07.txt"
files←1↓⟨""‿0⟩{𝕩∾<(≡)◶⟨(⊑¯1⊑𝕩)‿𝕨,(⊑¯1⊑𝕩)⊸{⌽0∾<(".."⊸≡◶⟨(𝕨∾<𝕩),(¯1↓𝕨)⟩)𝕩}⟩𝕨}´⌽{"$"≡⊑𝕩}◶⟨ToInt∘⊑,¯1⊸⊑⟩¨" "⊸Sp¨({¬∨´∨´¨"$ ls"‿"dir"⍷¨<𝕩}¨/⊢)s
sizes←{𝕩{+´1⊸⊑¨(𝕨⊸(⊣≡≠⊸↑)¨⊑¨𝕩)/𝕩}files}¨⍷⊑¨files
•Show +´(1e5⊸>/⊢)sizes
•Show ⊑(⍋⊏⊢)((⊑sizes)⊸{3e7<(7e7-𝕨)+𝕩}/⊢)sizes
